<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Inform-us</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f2f2f2; }
    header { background: #4CAF50; color: white; padding: 20px; text-align: center; }
    .container { padding: 20px; max-width: 800px; margin: auto; }
    .hidden { display: none; }
    input, button, textarea { display: block; margin: 10px 0; padding: 10px; width: 100%; }
    button { background-color: #4CAF50; color: white; border: none; cursor: pointer; }
    .card { background: white; padding: 15px; margin: 10px 0; border-radius: 8px; box-shadow: 0 0 5px rgba(0,0,0,0.1); }
    .card .owner-tools { margin-top: 10px; }
    .card .comment-section { margin-top: 15px; padding-top: 10px; border-top: 1px solid #ddd; }
    .card .comment { font-size: 0.9em; background: #f9f9f9; margin: 5px 0; padding: 5px; border-radius: 5px; }
  </style>
</head>
<body>

  <header><h1>Infor-us || üéâ</h1></header>

  <div class="container">

    <!-- Registration/Login Section -->
    <div id="auth-section">
      <h2 id="auth-title">Register</h2>
      <input type="text" id="username" placeholder="Username">
      <input type="password" id="password" placeholder="Password">
      <button onclick="authenticate()">Submit</button>
    </div>

    <!-- Main Content Section -->
    <div id="main-content" class="hidden">
      <h2>Welcome, <span id="userDisplay"></span></h2>

      <h3>Featured Apps</h3>
      <div class="card">üöÄ Game Galaxy - A thrilling space battle adventure!</div>
      <div class="card">üì∑ PhotoFix - AI-powered photo editing tool.</div>

      <h3>Reviews</h3>
      <textarea id="reviewInput" placeholder="Write a review..."></textarea>
      <button onclick="postReview()">Post Review</button>

      <div id="reviews"></div>
    </div>

  </div>

  <script>
    const authSection = document.getElementById("auth-section");
    const mainContent = document.getElementById("main-content");
    const userDisplay = document.getElementById("userDisplay");
    const usernameInput = document.getElementById("username");
    const passwordInput = document.getElementById("password");
    const authTitle = document.getElementById("auth-title");

    const currentUserKey = "currentUser";
    const usersKey = "users";
    const reviewsKey = "reviews";

    window.onload = () => {
      const currentUser = JSON.parse(localStorage.getItem(currentUserKey));
      if (currentUser) {
        loginSuccess(currentUser.username);
      } else {
        const users = JSON.parse(localStorage.getItem(usersKey) || "[]");
        authTitle.textContent = users.length > 0 ? "Sign In" : "Register";
      }
      loadReviews();
    };

    function authenticate() {
      const username = usernameInput.value.trim();
      const password = passwordInput.value;

      if (!username || !password) {
        alert("Please enter both username and password.");
        return;
      }

      let users = JSON.parse(localStorage.getItem(usersKey) || "[]");
      const existingUser = users.find(u => u.username === username);

      if (authTitle.textContent === "Register") {
        if (existingUser) {
          alert("Username already exists.");
          return;
        }
        users.push({ username, password });
        localStorage.setItem(usersKey, JSON.stringify(users));
        localStorage.setItem(currentUserKey, JSON.stringify({ username }));
        loginSuccess(username);
      } else {
        if (!existingUser || existingUser.password !== password) {
          alert("Invalid login credentials.");
          return;
        }
        localStorage.setItem(currentUserKey, JSON.stringify({ username }));
        loginSuccess(username);
      }
    }

    function loginSuccess(username) {
      userDisplay.textContent = username;
      authSection.classList.add("hidden");
      mainContent.classList.remove("hidden");
      loadReviews();
    }

    function postReview() {
      const currentUser = JSON.parse(localStorage.getItem(currentUserKey));
      const reviewText = document.getElementById("reviewInput").value.trim();
      if (!reviewText) return;

      const reviews = JSON.parse(localStorage.getItem(reviewsKey) || "[]");
      reviews.push({ id: Date.now(), user: currentUser.username, text: reviewText, likes: 0, read: false, comments: [] });
      localStorage.setItem(reviewsKey, JSON.stringify(reviews));
      document.getElementById("reviewInput").value = "";
      loadReviews();
    }

    function loadReviews() {
      const currentUser = JSON.parse(localStorage.getItem(currentUserKey));
      const reviewsContainer = document.getElementById("reviews");
      const reviews = JSON.parse(localStorage.getItem(reviewsKey) || "[]");
      reviewsContainer.innerHTML = "";

      reviews.forEach(review => {
        const div = document.createElement("div");
        div.className = "card";
        div.innerHTML = `
          <strong>${review.user}</strong>: ${review.text}
          ${review.read ? "<span style='color:green;'>‚úî Read</span>" : ""}
          <div class="owner-tools">
            ${review.user === currentUser.username ? `
              <button onclick="likeReview(${review.id})">Like (${review.likes})</button>
              <button onclick="markAsRead(${review.id})">Mark as Read</button>
              <button onclick="deleteReview(${review.id})">Delete</button>
            ` : `
              <div class="comment-section">
                <input type="text" id="comment-${review.id}" placeholder="Add a comment..." onkeydown="if(event.key==='Enter'){commentOnReview(${review.id})}">
                ${review.comments.map(c => `<div class="comment"><strong>${c.user}</strong>: ${c.text}</div>`).join("")}
              </div>
            `}
          </div>
        `;
        reviewsContainer.appendChild(div);
      });
    }

    function likeReview(id) {
      const reviews = JSON.parse(localStorage.getItem(reviewsKey));
      const review = reviews.find(r => r.id === id);
      review.likes++;
      localStorage.setItem(reviewsKey, JSON.stringify(reviews));
      loadReviews();
    }

    function markAsRead(id) {
      const reviews = JSON.parse(localStorage.getItem(reviewsKey));
      const review = reviews.find(r => r.id === id);
      review.read = true;
      localStorage.setItem(reviewsKey, JSON.stringify(reviews));
      loadReviews();
    }

    function deleteReview(id) {
      let reviews = JSON.parse(localStorage.getItem(reviewsKey));
      reviews = reviews.filter(r => r.id !== id);
      localStorage.setItem(reviewsKey, JSON.stringify(reviews));
      loadReviews();
    }

    function commentOnReview(id) {
      const currentUser = JSON.parse(localStorage.getItem(currentUserKey));
      const input = document.getElementById(`comment-${id}`);
      const commentText = input.value.trim();
      if (!commentText) return;

      const reviews = JSON.parse(localStorage.getItem(reviewsKey));
      const review = reviews.find(r => r.id === id);
      review.comments.push({ user: currentUser.username, text: commentText });
      localStorage.setItem(reviewsKey, JSON.stringify(reviews));
      loadReviews();
    }
  </script>

</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Web App with Owner & Members</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: Arial; margin: 0; background: #f4f4f4; }
    header { background: #333; color: white; padding: 20px; text-align: center; }
    .container { max-width: 800px; margin: auto; padding: 20px; }
    input, button, textarea { width: 100%; padding: 10px; margin: 10px 0; }
    button { background-color: #4CAF50; color: white; border: none; cursor: pointer; }
    .card { background: white; padding: 15px; margin: 15px 0; border-radius: 8px; box-shadow: 0 0 5px rgba(0,0,0,0.1); }
    .member-list { font-size: 0.9em; margin-top: 10px; }
    .owner-tag { color: green; font-weight: bold; }
  </style>
</head>
<body>

<header>
  <h1>My Web App</h1>
  <p id="welcome"></p>
</header>

<div class="container">
  <div id="auth-section">
    <h2 id="auth-title">Register</h2>
    <input type="text" id="username" placeholder="Username">
    <input type="password" id="password" placeholder="Password">
    <button onclick="authenticate()">Submit</button>
  </div>

  <div id="main-section" style="display:none;">
    <h2>Welcome, <span id="currentUserName"></span></h2>

    <div class="card">
      <h3>üìã Total Members: <span id="memberCount">0</span></h3>
      <div id="memberList" class="member-list"></div>
    </div>

    <div class="card">
      <h3>üìù Post a Review</h3>
      <textarea id="reviewText" placeholder="Write something..."></textarea>
      <button onclick="postReview()">Post Review</button>
    </div>

    <div class="card">
      <h3>üìñ Reviews</h3>
      <div id="reviews"></div>
    </div>
  </div>
</div>

<script>
  const usersKey = "web_users";
  const currentUserKey = "web_currentUser";
  const reviewsKey = "web_reviews";
  const ownerKey = "web_owner";

  const welcome = document.getElementById("welcome");
  const authSection = document.getElementById("auth-section");
  const mainSection = document.getElementById("main-section");
  const authTitle = document.getElementById("auth-title");
  const usernameInput = document.getElementById("username");
  const passwordInput = document.getElementById("password");
  const currentUserName = document.getElementById("currentUserName");
  const memberList = document.getElementById("memberList");
  const memberCount = document.getElementById("memberCount");

  window.onload = () => {
    const users = JSON.parse(localStorage.getItem(usersKey) || "[]");
    const currentUser = JSON.parse(localStorage.getItem(currentUserKey));
    const owner = localStorage.getItem(ownerKey);

    if (currentUser) {
      loginSuccess(currentUser.username);
    } else {
      authTitle.textContent = users.length ? "Sign In" : "Register";
    }

    updateMemberList();
    loadReviews();
  };

  function authenticate() {
    const username = usernameInput.value.trim();
    const password = passwordInput.value;
    if (!username || !password) {
      alert("Please fill out both fields.");
      return;
    }

    let users = JSON.parse(localStorage.getItem(usersKey) || "[]");
    const existingUser = users.find(u => u.username === username);

    if (authTitle.textContent === "Register") {
      if (existingUser) {
        alert("Username already exists.");
        return;
      }
      users.push({ username, password });
      localStorage.setItem(usersKey, JSON.stringify(users));
      if (!localStorage.getItem(ownerKey)) {
        localStorage.setItem(ownerKey, username); // Assign first user as owner
      }
      localStorage.setItem(currentUserKey, JSON.stringify({ username }));
      loginSuccess(username);
    } else {
      if (!existingUser || existingUser.password !== password) {
        alert("Invalid login.");
        return;
      }
      localStorage.setItem(currentUserKey, JSON.stringify({ username }));
      loginSuccess(username);
    }
  }

  function loginSuccess(username) {
    authSection.style.display = "none";
    mainSection.style.display = "block";
    currentUserName.textContent = username;
    welcome.textContent = `Logged in as ${username}`;
    updateMemberList();
    loadReviews();
  }

  function updateMemberList() {
    const users = JSON.parse(localStorage.getItem(usersKey) || "[]");
    const owner = localStorage.getItem(ownerKey);
    memberList.innerHTML = "";
    users.forEach(u => {
      const div = document.createElement("div");
      div.textContent = u.username + (u.username === owner ? " üëë Owner" : "");
      memberList.appendChild(div);
    });
    memberCount.textContent = users.length;
  }

  function postReview() {
    const text = document.getElementById("reviewText").value.trim();
    if (!text) return;
    const user = JSON.parse(localStorage.getItem(currentUserKey)).username;
    const reviews = JSON.parse(localStorage.getItem(reviewsKey) || "[]");
    reviews.push({ id: Date.now(), user, text });
    localStorage.setItem(reviewsKey, JSON.stringify(reviews));
    document.getElementById("reviewText").value = "";
    loadReviews();
  }

  function loadReviews() {
    const reviewsDiv = document.getElementById("reviews");
    reviewsDiv.innerHTML = "";
    const reviews = JSON.parse(localStorage.getItem(reviewsKey) || "[]");
    const currentUser = JSON.parse(localStorage.getItem(currentUserKey)).username;
    const owner = localStorage.getItem(ownerKey);

    reviews.forEach(r => {
      const card = document.createElement("div");
      card.className = "card";
      card.innerHTML = `<strong>${r.user}</strong>: ${r.text}`;
      if (currentUser === owner) {
        const delBtn = document.createElement("button");
        delBtn.textContent = "Delete";
        delBtn.style.marginTop = "10px";
        delBtn.onclick = () => deleteReview(r.id);
        card.appendChild(delBtn);
      }
      reviewsDiv.appendChild(card);
    });
  }

  function deleteReview(id) {
    let reviews = JSON.parse(localStorage.getItem(reviewsKey));
    reviews = reviews.filter(r => r.id !== id);
    localStorage.setItem(reviewsKey, JSON.stringify(reviews));
    loadReviews();
  }
</script>

</body>
</html>

